"use strict";var tel=document.querySelector(".sjzc .tel"),pass=document.querySelector(".sjzc .password"),repassword=document.querySelector(".sjzc .againpass"),truename=document.querySelector(".sjzc .truename"),idcard=document.querySelector(".sjzc .idcard"),aSpan=document.querySelectorAll(".sjzc span"),form=document.querySelector("form"),telflag=!0,passflag=!0,repasswordflag=!0,truenameflag=!0,idcardflag=!0;tel.onfocus=function(){tel.onblur=function(){var e;""!==this.value?11===this.value.length&&/^1[356789]\d{9}$/.test(this.value)?((e=new XMLHttpRequest).open("post","http://10.31.152.13/project/gulptest/php/reg.php",!0),e.setRequestHeader("content-type","application/x-www-form-urlencoded"),e.send("tel="+this.value),e.onreadystatechange=function(){4===e.readyState&&(telflag=e.responseText?(aSpan[0].innerHTML="该手机号已被注册",aSpan[0].style.color="#ff5959",!(tel.style.borderColor="#ed1919")):(aSpan[0].innerHTML="此账号可用",aSpan[0].style.color="#a4e941",tel.style.borderColor="#dbdbdb",!0))}):(aSpan[0].innerHTML="手机号格式不正确",aSpan[0].style.color="#ff5959",this.style.borderColor="#ed1919",telflag=!1):(aSpan[0].innerHTML="不能为空",aSpan[0].style.color=" #ff5959",this.style.borderColor="#ed1919",telflag=!1)}},pass.onfocus=function(){pass.oninput=function(){if(8<=this.value.length&&this.value.length<=16){var e=0;switch(/[0-9]/.test(this.value)&&e++,/[a-z]/.test(this.value)&&e++,/[A-Z]/.test(this.value)&&e++,/[\W\_]/.test(this.value)&&e++,e){case 1:case 2:aSpan[1].innerHTML="等级：弱",aSpan[1].style.color="#ff5959",passflag=!1;break;case 3:aSpan[1].innerHTML="等级：中",aSpan[1].style.color="yellow",passflag=!0;break;case 4:aSpan[1].innerHTML="等级：强",aSpan[1].style.color="green",passflag=!0}}else aSpan[1].innerHTML="密码必须包含大写字母、小写字母、数字、符号至少3种",aSpan[1].style.color="#ff5959",this.style.borderColor="#ed1919",passflag=!1},pass.onblur=function(){passflag&&(aSpan[1].innerHTML="",this.style.borderColor="#dbdbdb",passflag=!0),""===this.value&&(aSpan[1].innerHTML="不能为空",aSpan[1].style.color="#ff5959",this.style.borderColor="#ed1919",passflag=!1)}},repassword.onfocus=function(){repassword.onblur=function(){repasswordflag=""!==this.value?this.value===pass.value?(aSpan[2].innerHTML="",this.style.borderColor="#dbdbdb",!0):(aSpan[2].innerHTML="两次输入的密码不一致",aSpan[2].style.color="red",!(this.style.borderColor="#ed1919")):(aSpan[2].innerHTML="不能为空",this.style.borderColor="#ed1919",!(aSpan[2].style.color="red"))}},truename.onfocus=function(){truename.onblur=function(){truenameflag=""!==this.value?2<=this.value.length&&this.value.length<=10?/^[\u4e00-\u9fa5]+$/g.test(this.value)?(aSpan[3].innerHTML="",this.style.borderColor="#dbdbdb",!0):(aSpan[3].innerHTML="真实姓名格式不对",aSpan[3].style.color="#ff5959",!(this.style.borderColor="#ed1919")):(aSpan[3].innerHTML="真实姓名格式不对",!(this.style.borderColor="#ed1919")):(aSpan[3].innerHTML="不能为空",aSpan[3].style.color="#ff5959",!(this.style.borderColor="#ed1919"))}},idcard.onfocus=function(){idcard.onblur=function(){idcardflag=""!==this.value?/^\d{6}(19|20)\d{2}(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])\d{3}[\d|X|x]$/.test(this.value)?(aSpan[4].innerHTML="",this.style.borderColor="#dbdbdb",!0):(aSpan[4].innerHTML="身份证格式不对",aSpan[4].style.color="#ff5959",!(this.style.borderColor="#ed1919")):(aSpan[4].innerHTML="不能为空",aSpan[4].style.color="#ff5959",!(this.style.borderColor="#ed1919"))}},form.onsubmit=function(){if(""===tel.value&&(tel.style.borderColor="#ed1919",telflag=!1),""===pass.value&&(pass.style.borderColor="#ed1919",passflag=!1),""===repassword.value&&(repassword.style.borderColor="#ed1919",repasswordflag=!1),""===truename.value&&(truename.style.borderColor="#ed1919",truenameflag=!1),""===idcard.value&&(idcard.style.borderColor="#ed1919",idcardflag=!1),!(telflag&&passflag&&repasswordflag&&truenameflag&&idcardflag))return!1};