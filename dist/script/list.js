"use strict";!function(a){var i=[],e=[],c=null,p=null,n=a(".list_content ul");a.ajax({url:"http://10.31.152.13/project/gulptest/php/listdata.php",dataType:"json"}).done(function(t){var l="";a.each(t,function(t,n){l+='\n            <li>\n            <a href="detail.html?sid='+n.sid+'">\n                    <p class="like"><i></i><span class="like_people">'+n.like+'</span></p>\n                    <img class="lazy" data-original="'+n.src+'" alt="">\n                    <p class="title">'+n.title+'</p>\n                    <p class="price">￥'+n.price+"</p>\n                </a>\n            </li>\n            "}),n.html(l),a(function(){a("img.lazy").lazyload({effect:"fadeIn"})}),i=[],e=[],p=c=null,a(".list_content li").each(function(t,n){e[t]=a(this),i[t]=a(this)})}),a(".page").pagination({pageCount:3,prevContent:"上一页",nextContent:"下一页",callback:function(t){a.ajax({url:"http://10.31.152.13/project/gulptest/php/listdata.php",data:{page:t.getCurrent()},dataType:"json"}).done(function(t){var l="";a.each(t,function(t,n){l+='\n                        <li>\n                            <a href="detail.html?sid='+n.sid+'">\n                            <p class="like"><i></i><span class="like_people">'+n.like+'</span></p><div>\n                            <img class="lazy" data-original="'+n.src+'" alt=""></div>\n                            <p class="title">'+n.title+'</p>\n                            <p class="price">￥'+n.price+"</p>\n                            </a>\n                        </li>\n                    "}),n.html(l),a(function(){a("img.lazy").lazyload({effect:"fadeIn"})}),i=[],e=[],p=c=null,a(".list_content li").each(function(t,n){e[t]=a(this),i[t]=a(this)})})}}),a(".xihao").on("click",function(){for(var t=0;t<e.length-1;t++)for(var n,l=0;l<e.length-t-1;l++){c=parseFloat(e[l].find(".like_people").html().substring(0)),p=parseFloat(e[l+1].find(".like_people").html().substring(0)),c<p&&(n=e[l],e[l]=e[l+1],e[l+1]=n)}a(".list_content ul").empty(),a.each(e,function(t,n){a(".list_content ul").append(n),a(function(){a("img.lazy").lazyload({effect:"fadeIn"})})})}),a(".jiage").on("click",function(){for(var t=0;t<e.length-1;t++)for(var n,l=0;l<e.length-t-1;l++){c=parseFloat(e[l].find(".price").html().substring(1)),(p=parseFloat(e[l+1].find(".price").html().substring(1)))<c&&(n=e[l],e[l]=e[l+1],e[l+1]=n)}a(".list_content").empty(),a.each(e,function(t,n){a(".list_content").append(n),a(function(){a("img.lazy").lazyload({effect:"fadeIn"})})})}),a(".top").click(function(){a("body, html").animate({scrollTop:0},1e3)})}(jQuery);